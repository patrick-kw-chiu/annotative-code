import { Tabs } from 'nextra/components';
import Accordion from '../../components/Accordion.tsx';
import AnnotativeCode from '../../components/Demo/AnnotativeCode.tsx';

import javaScriptFn from 'annotative-code/bin/highlight.js/languages/javascript';
import typeScriptFn from 'annotative-code/bin/highlight.js/languages/typescript';
import xmlFn from 'annotative-code/bin/highlight.js/languages/xml';
import pythonFn from 'annotative-code/bin/highlight.js/languages/python';
import rustFn from 'annotative-code/bin/highlight.js/languages/rust';
import themeCss from 'annotative-code/bin/highlight.js/css/a11y-dark';

import {
  contentTemplate,
  styleMap,
  innerAccordionStyle,
} from '../../constants/constants';

Content (code) to be highlighted and annotated.
The code can be any of these supported [programming languages](https://github.com/highlightjs/highlight.js/tree/main/src/languages)
and even normal [plaintext](https://github.com/highlightjs/highlight.js/blob/main/src/languages/plaintext.js).
Below are some examples of a few programming languages.

export const content = `import languageFn from 'annotative-code/bin/highlight.js/languages/typescript';

const content = \`{{content}}\`

<annotative-code languageFn={languageFn} content={content} />`;

export const typeScriptContent = `interface Person {
  name: string;
  age: number;
}

const greet = (person: Person) => "Hello " + person.name`;

export const htmlContent = `<Box>
  <button style="background-color: blue;">
    Click Me!
  </button>
</Box>`;

export const pythonContent = `# Python Program to calculate the square root
# Note: change this value for a different result
num = 8

# To take the input from the user
num = float(input('Enter a number: '))

num_sqrt = num \*\* 0.5
print('The square root of %0.3f is %0.3f'%(num ,num_sqrt))`

export const rustContent = `fn main() {
    // Variables can be type annotated.
    let logical: bool = true;

    let a_float: f64 = 1.0;  // Regular annotation
    let an_integer   = 5i32; // Suffix annotation

    // Or a default will be used.
    let default_float   = 3.0; // f64
    let default_integer = 7;   // i32

    // A type can also be inferred from context.
    let mut inferred_type = 12; // Type i64 is inferred from another line.
    inferred_type = 4294967296i64;

    // A mutable variable's value can be changed.
    let mut mutable = 12; // Mutable i32
    mutable = 21;

    // Error! The type of a variable can't be changed.
    mutable = true;

    // Variables can be overwritten with shadowing.
    let mutable = true;

}`;

export const arrowStyle = { textAlign: 'center', padding: '12px' };

<hr style={{ margin: '24px 0' }} />

<Tabs items={['TypeScript', 'HTML (XML)', 'Python', 'Rust']}>
  <Tabs.Tab>
    <Accordion label={'Example:'} defaultOpened>
      <AnnotativeCode
        languageFn={javaScriptFn}
        themeCss={themeCss}
        content={typeScriptContent}
        styleMap={styleMap}
      />
      <br />
      <Accordion label={'Source Code:'} style={innerAccordionStyle}>
        <AnnotativeCode
          languageFn={javaScriptFn}
          themeCss={themeCss}
          content={contentTemplate
            .replace('javascript', 'typescript')
            .replace('\n\nconst annotation = {{annotation}}', '')
            .replace('{{content}}', typeScriptContent)}
          styleMap={styleMap}
        />
      </Accordion>
    </Accordion>
  </Tabs.Tab>
  <Tabs.Tab>
    <Accordion label={'Example:'} defaultOpened>
      <AnnotativeCode
        languageFn={xmlFn}
        themeCss={themeCss}
        content={htmlContent}
        styleMap={styleMap}
      />
      <br />
      <Accordion label={'Source Code:'} style={innerAccordionStyle}>
        <AnnotativeCode
          languageFn={javaScriptFn}
          themeCss={themeCss}
          content={contentTemplate
            .replace('javascript', 'typescript')
            .replace('\n\nconst annotation = {{annotation}}', '')
            .replace('{{content}}', htmlContent)}
          styleMap={styleMap}
        />
      </Accordion>
    </Accordion>
  </Tabs.Tab>
  <Tabs.Tab>
    <Accordion label={'Example:'} defaultOpened>
      <AnnotativeCode
        languageFn={pythonFn}
        themeCss={themeCss}
        content={pythonContent}
        styleMap={styleMap}
      />
      <br />
      <Accordion label={'Source Code:'} style={innerAccordionStyle}>
        <AnnotativeCode
          languageFn={javaScriptFn}
          themeCss={themeCss}
          content={contentTemplate
            .replace('javascript', 'python')
            .replace('\n\nconst annotation = {{annotation}}', '')
            .replace('{{content}}', pythonContent)}
          styleMap={styleMap}
        />
      </Accordion>
    </Accordion>
  </Tabs.Tab>
  <Tabs.Tab>
    <Accordion label={'Example:'} defaultOpened>
      <AnnotativeCode
        languageFn={rustFn}
        themeCss={themeCss}
        content={rustContent}
        styleMap={styleMap}
      />
      <br />
      <Accordion label={'Source Code:'} style={innerAccordionStyle}>
        <AnnotativeCode
          languageFn={javaScriptFn}
          themeCss={themeCss}
          content={contentTemplate
            .replace('javascript', 'rust')
            .replace('\n\nconst annotation = {{annotation}}', '')
            .replace('{{content}}', rustContent)}
          styleMap={styleMap}
        />
      </Accordion>
    </Accordion>
  </Tabs.Tab>
</Tabs>
