import Accordion from '../../components/Accordion.tsx';
import AnnotativeCode from '../../components/Demo/AnnotativeCode.tsx';

import languageFn from 'annotative-code/bin/highlight.js/languages/javascript';
import themeCss from 'annotative-code/bin/highlight.js/css/a11y-dark';

JSON object to specify what to annotate inside `content`.

- The `key`(s) will be used to search for placeholder
- The **value** object contains the configuration (**This page will focus on the available options of the value**)

export const annotation = {
  projectName: {
    type: 'string',
    value: 'annotative-code'
  }
}

export const content = `import languageFn from 'annotative-code/bin/highlight.js/languages/javascript';

const content = \`{{content}}\`

const annotation = {{annotation}}

<annotative-code
  languageFn={languageFn}
  content={content}
  annotation={annotation}
/>`;

export const javaScriptContent = `const projectName = '\_\_\_\_projectName\_\_\_\_';
console.log({ projectName })`;

export const styleMap = { padding: '8px' };
export const innerAccordionStyle = { paddingBottom: 0, fontSize: '1rem' };

<Accordion label={'Quick Example:'}>
  <AnnotativeCode
    languageFn={languageFn}
    themeCss={themeCss}
    content={content
      .replace('{{annotation}}', JSON.stringify(annotation, null, 2))
      .replace('{{content}}', javaScriptContent)}
    styleMap={styleMap}
  />
  <div style={{ textAlign: 'center', padding: '12px' }}>‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è</div>
  <AnnotativeCode
    languageFn={languageFn}
    themeCss={themeCss}
    content={javaScriptContent}
    annotation={annotation}
    styleMap={styleMap}
  />
</Accordion>

### Config Options

| Option          | Type   | Default Value | Description                                                                                                           |
| --------------- | ------ | ------------- | --------------------------------------------------------------------------------------------------------------------- |
| [\*type](#type) | string | `"string"`    | `type` defines <br />- Styling of the annotation (powered by highlight.js)<br />- Input knob if `knob` is not defined |
| \*value         | any    | n/a           | The default value passed to the annotation placeholder and the input knob                                             |
| [\*knob](#knob) | string | `"string"`    | `knob` defines the input knob e.g. `select`, `date` and `color`                                                       |

#### type

`type` defines

- Styling of the annotation. This part is powered by highlight.js' CSS themes
- Input type if `knob` is not defined.
  - The following `type`s include a default input knob
    - `string`
    - `boolean`
    - `number`
      - Optional: `min` and `max`
    - `integer`
      - Optional: `min` and `max`
  - The other `type`s would use a `string` input knob, if `knob` is not defined

Available options are mirrored from highlight.js' CSS class, which could be found [here](https://github.com/patrick-kw-chiu/annotative-code/blob/main/src/annotative/types/types.ts#L27-L60).

export const typeContent = `const projectName = '\_\_\_\_stringValue\_\_\_\_';
const isWebComponent = \_\_\_\_booleanValue\_\_\_\_;
const pi = \_\_\_\_numberValue\_\_\_\_;
const cupOfCoffeeConsumed = \_\_\_\_integerValue\_\_\_\_;`;

export const typeAnnotation = {
  stringValue: {
    type: 'string',
    value: 'annotative-code',
  },
  booleanValue: {
    type: 'boolean',
    value: true,
  },
  numberValue: {
    type: 'number',
    value: 3.14,
  },
  integerValue: {
    type: 'integer',
    value: 3,
  },
};

<Accordion label={'Quick Example:'} defaultOpened>
  <AnnotativeCode
    languageFn={languageFn}
    themeCss={themeCss}
    content={typeContent}
    annotation={typeAnnotation}
    styleMap={styleMap}
  />
  <br />
  <Accordion label={'Source Code:'} style={innerAccordionStyle}>
    <AnnotativeCode
      languageFn={languageFn}
      themeCss={themeCss}
      content={content
        .replace('{{annotation}}', JSON.stringify(typeAnnotation, null, 2))
        .replace('{{content}}', typeContent)}
      styleMap={styleMap}
    />
  </Accordion>
</Accordion>

#### knob

`knob` defines custom input knob other than the basic
`string`, `boolean`, `number` and `integer` types.
Some `knob` needs to supplement other options e.g.
for `knob: 'select'`, you also need to pass the available `options`.

- `select`
  - Required: `options`
- `date`
  - Optional: `min` and `max`
- `time`
- `datetime-local`
  - Optional: `min` and `max`
- `range`
  - Required: `min` and `max`
- `color`

export const knobContent = `const fruitSelect = '\_\_\_\_fruitSelect\_\_\_\_';
const expiryDate = \_\_\_\_expiryDate\_\_\_\_;
const timeToEat = \_\_\_\_timeToEat\_\_\_\_;
const dateTimeLocal = \_\_\_\_dateTimeLocal\_\_\_\_;`;

export const knobAnnotation = {
  fruitSelect: {
    type: 'string',
    value: 'üçé apple',
    knob: 'select',
    options: ['üçé apple', 'üçä orange', 'üçå banana'],
  },
  expiryDate: {
    type: 'string',
    value: '2024-05-30',
    knob: 'date',
    min: '2024-05-20',
  },
  timeToEat: {
    type: 'string',
    value: '10:30',
    knob: 'time',
  },
  dateTimeLocal: {
    type: 'string',
    value: '2024-05-30T22:30',
    knob: 'datetime-local',
    min: '2024-05-20T01:30',
  },
};

<Accordion label={'Quick Example:'} defaultOpened>
  <AnnotativeCode
    languageFn={languageFn}
    themeCss={themeCss}
    content={knobContent}
    annotation={knobAnnotation}
    styleMap={styleMap}
  />
  <br />
  <Accordion label={'Source Code:'} style={innerAccordionStyle}>
    <AnnotativeCode
      languageFn={languageFn}
      themeCss={themeCss}
      content={content
        .replace('{{annotation}}', JSON.stringify(knobAnnotation, null, 2))
        .replace('{{content}}', knobContent)}
      styleMap={styleMap}
    />
  </Accordion>
</Accordion>
